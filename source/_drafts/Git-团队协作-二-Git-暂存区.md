---
title: 'Git 团队协作(二):Git 暂存区'
tags:
---


### 提交的动作


在 git 中向版本库中提交的动作是：
>$ git commit -m""



### 

文件 .git/index 实际是一个包含文件索引的目录树，像是一个虚拟的工作区，在这个虚拟工作区的目录树中，记录了文件名和文件状态(时间戳和文件长度等信息)，但是文件的内容并没有储存在其中，而是保存在 **对象库** .git/objects 目录中，文件索引建立了文件和对象库中对象实体的对应关系。

![](/../images/2019_09_29_01.png)

在上图中展示了，工作区、版本库中的暂存区和版本库之间的关系。

* 图中版本库中标记为 index 的区域是暂存区，标记为 master 的是 master 分支所代表的目录树。


* objects 标识的区域为上文中提到的 对象库，实际目录为 .git/objects
  
* 在图中， 此时 HEAD 实际是指向 master 分支的一个 ”游标“。
* 当工作区的内容发生改变后，执行 git add 命令，暂存区的目录树会被刷新，工作区更改的文件内容会被写入到对象库中的一个新的对象中，而该对象的ID 被记录在赞准去的文件索引中。
* 接上，如果此时执行 git commit ，那么暂存区的目录树