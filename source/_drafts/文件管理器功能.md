---
title: 文件管理器功能
tags:
---


## 解压缩

选中 zip 文件  -> 点击 “解压缩到...”(ArchiveDialogHelper#mOnChooseListener.onChoose(false, mFilePath, mChooseEncoding);  171) 
-> IntentBuilder#viewArchive(283)
-> ArchiveHelper.getInstance().setArchiveToDecompress(filePath); 设置 zip 文件源文件目录
-> Util.pickToFolder(activity, R.string.decompress_to, R.string.decompress_confirm)
-> FileActivity
-> FileFragment
-> 选择 相应的文件目录 ，点击 解压缩
-> FileFragment#R.id.decompress_confirm
-> **FileOperationManager#startDecompressThread 开启解压**
-> ArchiveHelper#decompressArchive  (zip:567)
 
    a. (如果要解压的文件夹已经存在，弹出会显示 文件夹已存在，解压缩过程结束)
    b. 正常解压： int result = ZipUtils.decompressZipArchive(activity, mArchivePath, destination); 返回解压结果
-> zip 解压原理：1. 根据 zip 文件路径构建 ZipFile 对象，通过 zip.entries() 获得 zip 中的全部文件，
                2. 获取每个文件的 ZipEntry 对象
                3. 通过 IO 将 ZipEntry 包含的数据写入到目标文件
                4. 遍历 完成解压过程
                

 
----

## 1. 不要厌烦小事、琐事
## 2. 积累影响力是任何行业都值得做的事