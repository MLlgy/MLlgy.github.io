---
title: '小程序学习笔记(五):模板 模块与缓存'
tags:
---

## 模块

模块可以大幅提供复用性与可维护性。

暴露模块：
```
// 向外暴露接口
module.exports={
    postList:postList
}
```
引入模块：
```
var dataObj=require('../data/data.js')
```

使用模块：

```
this.setData({
    postList:dataObj.postList
})
```


## 模板


小程序中存在模板技术支持对 wxml 的封装,WXML提供模板（template），可以在模板中定义代码片段，然后在不同的地方调用。

**定义模板**

在单独文件中定义模板内容：
<template name="name">
    ...
</template>

在单独 wxss 中定义样式，比如：
a.wxss
```
image{
    ...
}
```

**使用模板**

1. 首先在使用处引入相应的模板。
2. 将对应的 wxss 文件引入使用处对应的 wxss 文件中。
```
@import "../post/post-item/post-item-tpl.wxss";
```

3. 使用相应的模板。


```
<import src="post-item/post-item-tpl.wxml"/>
<view>
    <block wx:for="{{postList}}" wx:for-item="item" wx:for-index="idx" wx:key="idx">
        <template is="postItemTpl" data="{{item}}"/>
    </block>
</view>
```


## 缓存


